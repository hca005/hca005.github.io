<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Cho Ly y√™u ‚ù§Ô∏è</title>
<style>
  :root{
    --bg1:#ffefef;
    --bg2:#fff0f6;
    --accent:#ff4d6d;
    --muted:#6b6b6b;
    --card-bg: rgba(255,255,255,0.85);
  }
  *{box-sizing:border-box}
  html,body{height:100%;}
  body{
    margin:0;
    font-family: "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    background: radial-gradient(circle at 10% 10%, var(--bg2), var(--bg1));
    display:flex;
    align-items:center;
    justify-content:center;
    padding:24px;
  }

  .card{
    width:min(920px, 96%);
    max-width:1000px;
    background: linear-gradient(180deg, rgba(255,255,255,0.9), var(--card-bg));
    border-radius:18px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.12);
    overflow:hidden;
    position:relative;
    display:grid;
    grid-template-columns: 1fr 380px;
    gap:0;
  }

  /* left */
  .panel-left{
    padding:40px 34px;
    display:flex;
    flex-direction:column;
    gap:18px;
    min-height:420px;
  }
  .to-line{font-size:14px;color:var(--muted)}
  .title{
    font-size:34px;
    line-height:1.05;
    color:#2b2b2b;
    margin:0;
    letter-spacing:0.2px;
  }
  .subtitle{
    color:var(--muted);
    margin-top:6px;
    font-size:15px;
  }

  .message{
    margin-top:8px;
    font-size:18px;
    color:#222;
    white-space:pre-wrap;
    min-height:120px;
  }

  .typewriter{
    display:inline-block;
    border-right:2px solid rgba(0,0,0,0.12);
    padding-right:6px;
    animation: blink 1s steps(2, start) infinite;
  }
  @keyframes blink{50%{border-color:transparent}}

  .actions{
    margin-top:auto;
    display:flex;
    gap:12px;
    align-items:center;
  }
  .btn{
    padding:10px 16px;
    border-radius:10px;
    border:0;
    cursor:pointer;
    font-weight:600;
    background:var(--accent);
    color:white;
    box-shadow: 0 6px 16px rgba(255,77,109,0.18);
  }
  .btn.secondary{
    background:transparent;
    color:var(--accent);
    border:1px solid rgba(255,77,109,0.18);
    font-weight:700;
  }

  /* right */
  .panel-right{
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.04));
    padding:30px;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    gap:12px;
  }
  .photo{
    width:220px;height:220px;border-radius:14px;
    background:linear-gradient(135deg,#ffe7ec,#ffd9e5);
    display:flex;align-items:center;justify-content:center;
    font-size:80px;color:rgba(0,0,0,0.08);
    user-select:none;overflow:hidden;
    box-shadow: 0 8px 20px rgba(0,0,0,0.08);
  }
  .photo img{width:100%;height:100%;object-fit:cover}

  .small-note{font-size:13px;color:var(--muted);text-align:center;padding:6px 10px}

  /* floating hearts */
  .hearts{position:absolute;inset:0;pointer-events:none;overflow:hidden}
  .heart{
    position:absolute;
    width:20px;height:18px;
    transform: rotate(-45deg) scale(0);
    animation: floatUp linear infinite;
    opacity:0.95;
  }
  .heart::before,.heart::after{
    content:"";
    position:absolute;
    width:12px;height:12px;border-radius:50%;
    background:var(--accent);
  }
  .heart::before{top:-6px;left:0}
  .heart::after{left:6px;top:0}
  @keyframes floatUp{
    0%{transform:translateY(0) rotate(-45deg) scale(0.2); opacity:0.9}
    10%{transform:translateY(-10px) rotate(-45deg) scale(1)}
    100%{transform:translateY(-380px) rotate(0deg) scale(0.8); opacity:0}
  }

  /* confetti canvas */
  #confetti{position:absolute;left:0;top:0;pointer-events:none;width:100%;height:100%;}

  /* responsive */
  @media (max-width:880px){
    .card{grid-template-columns:1fr; padding:0}
    .panel-right{order:-1;padding-top:20px}
    .photo{width:160px;height:160px}
  }
</style>
</head>
<body>
  <div class="card" role="article" aria-label="Thi·ªáp y√™u th∆∞∆°ng">
    <div class="panel-left">
      <div class="to-line">G·ª≠i: <strong id="toName">Ly y√™u</strong> üíå</div>
      <h1 class="title" id="mainTitle">M·ªôt l·ªùi nh·ªè t·ª´ anh/ch·ªã</h1>
      <div class="subtitle" id="subTitle">M·ªói ng√†y c√≥ ch·ªã, m·ªçi th·ª© ƒë·ªÅu ƒë√°ng y√™u h∆°n.</div>

      <div class="message" id="messageBlock">
        <span class="typewriter" id="typewriterText"></span>
      </div>

      <div class="actions">
        <button class="btn" id="revealBtn">M·ªü l·ªùi y√™u</button>
        <button class="btn secondary" id="editBtn">Ch·ªânh n·ªôi dung</button>
      </div>

      <div style="margin-top:12px;font-size:13px;color:var(--muted)">
        <em>Ghi ch√∫: b·∫•m "Ch·ªânh n·ªôi dung" ƒë·ªÉ s·ª≠a t√™n/ l·ªùi nh·∫Øn ‚Äî ho·∫∑c m·ªü file v√† s·ª≠a trong ph·∫ßn <code>DATA</code>.</em>
      </div>
    </div>

    <div class="panel-right">
      <div class="photo" id="photoBox">‚ù§</div>
      <div class="small-note" id="smallNote">Kh√¥ng c·∫ßn hoa, ch·ªâ c·∫ßn ch·ªã.</div>
    </div>

    <div class="hearts" id="heartsContainer" aria-hidden="true"></div>
    <canvas id="confetti"></canvas>
  </div>

<script>
/* ====== D·ªÆ LI·ªÜU: ch·ªânh ·ªü ƒë√¢y ====== */
const DATA = {
  toName: "Ho√†ng C·∫©m Anh",
  fromName: "Nguy·ªÖn H∆∞∆°ng Ly",
  title: "G·ª≠i ng∆∞·ªùi y√™u d·ªÖ th∆∞∆°ng xinh nh·∫•t qu·∫£ ƒë·∫•t",
  subtitle: " Lu√¥n h·∫°nh ph√∫c khi ƒë∆∞·ª£c y√™u Ly.",
  messageLines: [
    "Ly ∆°i,",
    "C·∫£m ∆°n ch·ªã v√¨ ƒë√£ ·ªü b√™n emm trong m·ªçi kho·∫£nh kh·∫Øc nh·ªè b√©.",
    "Em y√™u n·ª• c∆∞·ªùi, y√™u Ly, y√™u c·∫£ nh·ªØng ph√∫t im l·∫∑ng khi c√≥ ch·ªã b√™n c·∫°nh.",
  ],
  photoURL: "", // ƒë·ªÉ tr·ªëng s·∫Ω hi·ªán icon; n·∫øu c√≥, ƒë·∫∑t link ·∫£nh ·ªü ƒë√¢y
};
/* ====== K·∫æT TH√öC CH·ªàNH D·ªÆ LI·ªÜU ====== */

document.getElementById("toName").textContent = DATA.toName;
document.getElementById("mainTitle").textContent = DATA.title;
document.getElementById("subTitle").textContent = DATA.subtitle;
const photoBox = document.getElementById("photoBox");
if(DATA.photoURL){
  photoBox.innerHTML = `<img src="${DATA.photoURL}" alt="·∫¢nh c·ªßa ${DATA.toName}">`;
}

const typeEl = document.getElementById("typewriterText");
const messageBlock = document.getElementById("messageBlock");
let fullText = DATA.messageLines.join("\\n\\n");

let idx = 0;
let typing = false;

function typeWriter(start=true){
  if(typing) return;
  typing = true;
  typeEl.textContent = "";
  idx = 0;
  const txt = fullText;
  const speed = 32;
  function step(){
    if(idx <= txt.length){
      typeEl.textContent = txt.slice(0, idx);
      idx++;
      setTimeout(step, speed);
    } else {
      typing = false;
    }
  }
  if(start) step();
}

/* Heart generator */
const heartsContainer = document.getElementById("heartsContainer");
function spawnHeart(){
  const h = document.createElement("div");
  h.className = "heart";
  const size = Math.random()*18 + 12;
  h.style.width = size + "px";
  h.style.height = (size*0.9) + "px";
  h.style.left = (Math.random()*100) + "%";
  h.style.bottom = "-30px";
  const delay = Math.random()*0.5;
  const dur = 4 + Math.random()*4;
  h.style.animationDuration = dur + "s";
  h.style.animationDelay = delay + "s";
  h.style.opacity = 0.9 - Math.random()*0.3;
  heartsContainer.appendChild(h);
  setTimeout(()=> h.remove(), (dur+delay)*1000 + 1000);
}
let heartInterval = setInterval(spawnHeart, 600);

/* Buttons */
document.getElementById("revealBtn").addEventListener("click", ()=>{
  typeWriter(true);
  runConfetti();
});

document.getElementById("editBtn").addEventListener("click", ()=>{
  const newTo = prompt("G·ª≠i t·ªõi (t√™n):", DATA.toName);
  const newFrom = prompt("T·ª´ (t√™n c·ªßa b·∫°n):", DATA.fromName);
  const newMsg = prompt("Vi·∫øt l·ªùi nh·∫Øn (d√πng \\n ƒë·ªÉ xu·ªëng d√≤ng):", DATA.messageLines.join("\\n"));
  if(newTo) {
    DATA.toName = newTo;
    document.getElementById("toName").textContent = newTo;
  }
  if(newFrom) DATA.fromName = newFrom;
  if(newMsg) {
    DATA.messageLines = newMsg.split("\\n");
    fullText = DATA.messageLines.join("\\n\\n");
    // if currently typed, restart
    typeEl.textContent = "";
  }
});

/* Simple confetti (no external libs) */
const confettiCanvas = document.getElementById("confetti");
const ctx = confettiCanvas.getContext && confettiCanvas.getContext('2d');
let confettiPieces = [];
function resizeCanvas(){
  confettiCanvas.width = confettiCanvas.offsetWidth;
  confettiCanvas.height = confettiCanvas.offsetHeight;
}
window.addEventListener('resize', resizeCanvas);
resizeCanvas();

function createConfetti(){
  confettiPieces = [];
  const count = 80;
  for(let i=0;i<count;i++){
    confettiPieces.push({
      x: Math.random()*confettiCanvas.width,
      y: Math.random()*confettiCanvas.height - confettiCanvas.height,
      w: 6 + Math.random()*10,
      h: 8 + Math.random()*10,
      rot: Math.random()*360,
      speedY: 1 + Math.random()*4,
      speedX: -2 + Math.random()*4,
      color: `hsl(${Math.random()*50 + 340},70%,60%)`
    });
  }
}
let confettiActive = false;
function runConfetti(){
  if(!ctx) return;
  if(confettiActive) return;
  confettiActive = true;
  createConfetti();
  const ttl = 3000;
  const start = Date.now();
  function anim(){
    const t = Date.now() - start;
    ctx.clearRect(0,0,confettiCanvas.width, confettiCanvas.height);
    confettiPieces.forEach(p=>{
      p.x += p.speedX;
      p.y += p.speedY;
      p.rot += p.speedX*2;
      ctx.save();
      ctx.translate(p.x, p.y);
      ctx.rotate(p.rot * Math.PI/180);
      ctx.fillStyle = p.color;
      ctx.fillRect(-p.w/2, -p.h/2, p.w, p.h);
      ctx.restore();
    });
    if(t < ttl){
      requestAnimationFrame(anim);
    } else {
      ctx.clearRect(0,0,confettiCanvas.width, confettiCanvas.height);
      confettiActive = false;
    }
  }
  anim();
}

/* auto start a gentle type effect after 1s */
setTimeout(()=> {
  // small initial wobble of hearts
  for(let i=0;i<4;i++){ setTimeout(spawnHeart, i*200); }
}, 800);
</script>
</body>
</html>